notepad-app
===========

* NoteDetailActivity のリファクタリング
*** NoteDetailViewer
*** NoteDetailEditor

#* テンプレート一覧画面のオプションメニューに「テンプレート追加」を追加する

#* NoteTemplateDetailActivity のリファクタリング
#** onCreate() の第一引数の Bundle がある場合にはすべて Bundle から復元するべき
#** 保存処理を onActivityResult() から呼び出すべき

#* 一度編集した内容を元に戻しても保存されているバグ(?)
#** 再現手順
#*** 新規作成 
#*** 名前をタップして名前編集画面を起動
#*** 名前を書いて名前編集画面を閉じる
#*** 名前をタップして名前編集画面を起動
#*** 入力されている名前をすべて削除して名前編集画面を閉じる
#*** バックボタンで戻ると名前が空文字列のデータが保存されている
#** onPause() で保存している以上、項目編集時に別アクティビティを起動したときに保存されることは避けられない
#** 対策は以下のどれか
#*** バグじゃなくて仕様にする 
#**** ノート編集中にホームに戻っても同じような動作になってる
#**** 新規作成中にキャンセルするつもりが保存された分は削除すればいい
#**** 既存のテンプレートを編集中にキャンセルする場合を考えると、キャンセルするためには編集前の状態に編集するんだから同じことか
#**** 保存するつもりだったのに消えてしまうよりはずっといい
#*** onPause() で保存しないようにする
#**** onPause() で保存しないとすると？
#***** -> 明示的な保存ボタンをつける？
#***** -> Android アプリとしてダメか
#** 対応
#*** 仕様とする


#* ノートテンプレート一覧表示画面でバグ
#** 再現手順
#*** テンプレートが一つもない状態でテンプレートを追加
#*** テンプレート一覧に戻る
#*** 追加したテンプレートが表示されない
#*** ホームに戻ってからテンプレート一覧を表示しなおすと追加されている
#*** テンプレートが１つでもある場合には再現しない
#** 原因
#*** おそらくテンプレート一覧の再表示をカーソルへの通知で更新している？
#** 対策
#*** onResume() で明示的に再表示する？
#*** 過去にノート一覧でも同じバグがあったけどどうやって対処したか調べる
#** 対応
#*** ListAdapter の初期化とカーソルの更新を別メソッドにした
#*** onResume() でカーソルの更新メソッドを呼び出すように修正


* ソート順を変更指定可能にする
** 作成日時 ≒ ID 
** 変更日時
** タイトル(?)
* 設定:ノート一覧画面のソート順


notepad-app-level-11
====================

#* ノート編集中にショートカットから別のノートを開くと編集中のノートが開かれるバグ
#** 再現手順
#*** ノートAを作成、編集、保存
#*** ノートAのショートカットをホームに作成
#*** ノートBを作成、編集、保存
#*** ノートBを編集
#*** ホームボタンでホームに戻る
#*** ノートAのショートカットを開く
#*** ノートAが編集中になることを期待するが、ノートBが編集中になる
#** 原因
#*** NoteDetailActivity ないで EditNoteFragment に設定されているノートのURLを優先しているため
#*** -> なんで？
#*** -> 画面回転処理を initWithIntent() でやっていた時の名残？だったような…
#*** -> 今は必要ないはず…
#** 対策
#*** 常に Intent の URI を使うようにする


#* テンプレート一覧画面のオプションメニューに「テンプレート追加」を追加する

#* NoteTemplateDetailActivity のリファクタリング
#** onCreate() の第一引数の Bundle がある場合にはすべて Bundle から復元するべき
#** 保存処理を onActivityResult() から呼び出すべき

#* ノートテンプレート一覧表示画面をリファクタリング
#** なんかLoaderManager でロードするコードと古いコードが混ざっている
#** -> LoaderManager でロードするようにして古いコードを削除した

* アクションバー自動非表示時にジェスチャーで表示できるようにする
** ScrollView の上端にいる場合に下にスワイプしたら表示？

* 設定:ノート一覧画面のソート順追加


notepad-common
==============

* TimeFormatUtils 修正
** 西暦部分のないフォーマットにできないか？

* NoteSearchQueryParser に日付記法とかもあってもいいかも
** 書式
*** mt:<yyyymmdd[HH[MM[SS]]]>
*** ct:<yyyymmdd[HH[MM[SS]]]>
** 手順
*** ContentProvider 側で処理できるようなURIを決める
    -> contents://org.routine_work.notepad.noteprovider/notes?mt=<yyyymmddHHMMSS>-<yyyymmddHHMMSS>
    -> contents://org.routine_work.notepad.noteprovider/notes?ct=<yyyymmddHHMMSS>-<yyyymmddHHMMSS>
*** ContentProvider 側の処理を実装
*** NoteSearchQueryParser にパース機能を実装
*** NoteSearchQueryParser を利用するコードの修正

